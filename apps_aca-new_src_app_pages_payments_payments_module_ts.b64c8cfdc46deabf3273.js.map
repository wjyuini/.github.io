{"version":3,"mappings":"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","names":["PaymentsPaidComponent","selectors","i0","UNPAID_TABLE_HEADERS","isSort","EQimaTableHeadCellSort","key","label","type","ETableDataType","UnpaidSubtotalsComponent","constructor","this","EQimaButtonSize","EQimaButtonStyle","PaymentsUnpaidComponent","_pageHeaderService","_changeDetectorRef","sessionStorage","getItem","EStorageKeys","TABLE_PAGINATION","value","url","SERVER_API_URL","userId","params","searchTableData","currentApiUrls","unpaidApiUrls","unpaidSelectActive","searchParams","URLSearchParams","set","unpaidApiUrl","toString","markForCheck","ngOnInit","unpaidTableHeaders","UNPAID_TABLE_ID","searchChangeSubject$","pipe","untilDestroyed","subscribe","unpaidSelectChange","id","unpaidPaginationChange","page","unpaidPageSizeChange","console","log","ctx","UntilDestroy","S","PageHeaderService","ChangeDetectorRef","PaymentsComponent","_router","isSelect","routerLink","trackByIndex","index","tabs","map","item","ROUTES","path","component","canActivate","AuthoritiesGuard","children","redirectTo","pathMatch","PaymentsModule","RouterModule","TranslateModule","QimaTabsModule","QimaTabModule","QimaTabsAutoSelectDirectiveModule","CommonModule","DataTableModule","QimaButtonModule","QimaInputTextModule","FormsModule","PageHeaderModule"],"sources":["./apps/aca-new/src/app/pages/payments/pages/payments-paid/payments-paid.component.ts","./apps/aca-new/src/app/pages/payments/pages/payments-paid/payments-paid.component.html","./apps/aca-new/src/app/pages/payments/pages/payments-unpaid/shared/constants/unpaid-table.constants.ts","./apps/aca-new/src/app/pages/payments/pages/payments-unpaid/shared/components/unpaid-subtotals/unpaid-subtotals.component.ts","./apps/aca-new/src/app/pages/payments/pages/payments-unpaid/shared/components/unpaid-subtotals/unpaid-subtotals.component.html","./apps/aca-new/src/app/pages/payments/pages/payments-unpaid/payments-unpaid.component.ts","./apps/aca-new/src/app/pages/payments/pages/payments-unpaid/payments-unpaid.component.html","./apps/aca-new/src/app/pages/payments/payments.component.html","./apps/aca-new/src/app/pages/payments/payments.component.ts","./apps/aca-new/src/app/pages/payments/payments.module.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-payments-paid',\r\n  templateUrl: './payments-paid.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class PaymentsPaidComponent {}\r\n","<div class=\"paid-payments\">this is payments-paid</div>\r\n","import { ETableDataType } from '@aca-new/app/shared/components/table/shared/enums/table-data-type.enum';\r\nimport { ITableHeader } from '@aca-new/app/shared/components/table/shared/interfaces/table-header.interface';\r\nimport { EQimaTableHeadCellSort } from '@qima/ngx-qima';\r\n\r\nexport const UNPAID_TABLE_ID = {\r\n  inspections: 'inspections',\r\n};\r\n\r\nexport const UNPAID_TABLE_HEADERS: Record<string, ITableHeader[]> = {\r\n  [UNPAID_TABLE_ID.inspections]: [\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'serviceTypeText',\r\n      label: 'TABLE.TYPE',\r\n      type: ETableDataType.STRING,\r\n    },\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'serviceDate',\r\n      label: 'TABLE.SERVICE_DATE',\r\n      type: ETableDataType.STRING,\r\n    },\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'productName',\r\n      label: 'TABLE.PRODUCT_NAME',\r\n      type: ETableDataType.STRING,\r\n    },\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'poNumber',\r\n      label: 'TABLE.PO_NO',\r\n      type: ETableDataType.STRING,\r\n    },\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'rfqNumber',\r\n      label: 'TABLE.REF_NO',\r\n      type: ETableDataType.STRING,\r\n    },\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'factoryName',\r\n      label: 'TABLE.SUPPLIER',\r\n      type: ETableDataType.STRING,\r\n    },\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'proformaInvoiceNumber',\r\n      label: 'TABLE.INVOICE',\r\n      type: ETableDataType.STRING,\r\n    },\r\n    {\r\n      isSort: EQimaTableHeadCellSort.ALPHABETICALLY,\r\n      key: 'cost',\r\n      label: 'TABLE.AMOUNT',\r\n      type: ETableDataType.STRING,\r\n    },\r\n  ],\r\n};\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { EQimaButtonSize, EQimaButtonStyle } from '@qima/ngx-qima';\r\n\r\n@Component({\r\n  selector: 'app-unpaid-subtotals',\r\n  templateUrl: './unpaid-subtotals.component.html',\r\n  styleUrls: ['./unpaid-subtotals.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class UnpaidSubtotalsComponent {\r\n  public readonly buttonSize: EQimaButtonSize = EQimaButtonSize.SMALL;\r\n  public readonly buttonStyle: EQimaButtonStyle = EQimaButtonStyle.SECONDARY;\r\n  // TODO need to replace real value\r\n  public readonly selectNumber: number = 0;\r\n  public readonly totalPrice: string = '0.00';\r\n}\r\n","<div class=\"pay-total-item\">\r\n  <span class=\"pay-total-item__label\">{{\r\n    'PAYMENTS.TOTAL_PAYMENTS' | translate: { selectNumber: this.selectNumber, totalPrice: this.totalPrice }\r\n  }}</span>\r\n  <qima-button\r\n    class=\"qima-mr-xs\"\r\n    [qimaButtonLabel]=\"'PAYMENTS.UPLOAD_OF_PAYMENT' | translate\"\r\n    [qimaButtonStyle]=\"buttonStyle\"\r\n    [qimaButtonSize]=\"buttonSize\"\r\n  ></qima-button>\r\n\r\n  <qima-button\r\n    [qimaButtonLabel]=\"'PAYMENTS.PAY_NOW' | translate\"\r\n    [qimaButtonSize]=\"buttonSize\"\r\n  ></qima-button>\r\n</div>\r\n","import { IDataTableSelect } from '@aca-new/app/pages/landing/shared/models/interfaces/data-table-select.interface';\r\nimport {\r\n  UNPAID_TABLE_HEADERS,\r\n  UNPAID_TABLE_ID,\r\n} from '@aca-new/app/pages/payments/pages/payments-unpaid/shared/constants/unpaid-table.constants';\r\nimport { PageHeaderService } from '@aca-new/app/shared/components/page-header/shared/service/page-header.service';\r\nimport { ITableHeader } from '@aca-new/app/shared/components/table/shared/interfaces/table-header.interface';\r\nimport { SERVER_API_URL } from '@aca-new/app/shared/constants/app.constants';\r\nimport { TABLE_PAGINATION } from '@aca-new/app/shared/constants/table-pagination.constants';\r\nimport { EStorageKeys } from '@aca-new/app/shared/models/enums/storage-keys.enum';\r\nimport { ICommonTableUrl } from '@aca-new/app/shared/models/interfaces/common-table-url.interface';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\n\r\n@UntilDestroy()\r\n@Component({\r\n  selector: 'app-payments-unpaid',\r\n  templateUrl: './payments-unpaid.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class PaymentsUnpaidComponent implements OnInit {\r\n  public readonly userId = sessionStorage.getItem(EStorageKeys.USER_ID);\r\n  public unpaidApiUrl: string = '';\r\n  public unpaidSelectActive: string = '';\r\n  public unpaidTableHeaders: ITableHeader[] = [];\r\n  public unpaidPageSizeList: number[] = [\r\n    TABLE_PAGINATION.pageSize50,\r\n    TABLE_PAGINATION.pageSize100,\r\n    TABLE_PAGINATION.pageSize150,\r\n    TABLE_PAGINATION.pageSize200,\r\n    TABLE_PAGINATION.pageSize250,\r\n  ];\r\n\r\n  public readonly unpaidTableSelects: IDataTableSelect[] = [\r\n    {\r\n      label: 'UPCOMING_ORDERS.SELECT.INSPECTIONS',\r\n      value: UNPAID_TABLE_ID.inspections,\r\n    },\r\n  ];\r\n\r\n  public readonly unpaidApiUrls: Record<string, ICommonTableUrl> = {\r\n    [UNPAID_TABLE_ID.inspections]: {\r\n      url: `${SERVER_API_URL}/user/${this.userId}/payments?`,\r\n      params: 'paid=false&page=1&pagesize=50&serviceCategory=INSPECTION&sortType=desc&sortField=inspectionDate&keyword=',\r\n    },\r\n  };\r\n\r\n  public constructor(private readonly _pageHeaderService: PageHeaderService, private readonly _changeDetectorRef: ChangeDetectorRef) {}\r\n\r\n  public searchTableData(value: string): void {\r\n    const currentApiUrls = this.unpaidApiUrls[this.unpaidSelectActive];\r\n    const searchParams = new URLSearchParams(currentApiUrls.params);\r\n\r\n    searchParams.set('keyword', value);\r\n    this.unpaidApiUrl = currentApiUrls.url + searchParams.toString();\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.unpaidSelectActive = UNPAID_TABLE_ID.inspections;\r\n    this.unpaidTableHeaders = UNPAID_TABLE_HEADERS.inspections;\r\n    this.unpaidApiUrl = this.unpaidApiUrls[UNPAID_TABLE_ID.inspections].url + this.unpaidApiUrls[UNPAID_TABLE_ID.inspections].params;\r\n    // eslint-disable-next-line rxjs/no-ignored-subscription\r\n    this._pageHeaderService.searchChangeSubject$.pipe(untilDestroyed(this)).subscribe((value: string): void => {\r\n      this.searchTableData(value);\r\n    });\r\n  }\r\n\r\n  public unpaidSelectChange(id: Readonly<string>): void {\r\n    this.unpaidSelectActive = id;\r\n    this.unpaidApiUrl = this.unpaidApiUrls[id].url + this.unpaidApiUrls[id].params;\r\n    this.unpaidTableHeaders = UNPAID_TABLE_HEADERS[id];\r\n  }\r\n\r\n  public unpaidPaginationChange(page: Readonly<number>): void {\r\n    const currentApiUrls = this.unpaidApiUrls[this.unpaidSelectActive];\r\n    const searchParams = new URLSearchParams(currentApiUrls.params);\r\n\r\n    searchParams.set('page', page.toString());\r\n    this.unpaidApiUrl = currentApiUrls.url + searchParams.toString();\r\n  }\r\n\r\n  public unpaidPageSizeChange(page: Readonly<number>): void {\r\n    // TODO send request when EntriesPerPageChange\r\n    console.log(page);\r\n  }\r\n}\r\n","<div class=\"unpaid-payments\">\r\n  <app-data-table\r\n    (dataTableToolbarSelectChange)=\"unpaidSelectChange($event)\"\r\n    (dataTablePaginationChange)=\"unpaidPaginationChange($event)\"\r\n    (dataTablePageSizeChange)=\"unpaidPageSizeChange($event)\"\r\n    [dataTableSelectActive]=\"unpaidSelectActive\"\r\n    [dataTableApiUrl]=\"unpaidApiUrl\"\r\n    [dataTableHeaders]=\"unpaidTableHeaders\"\r\n    [dataTableSelects]=\"unpaidTableSelects\"\r\n    [dataTableEmptyMessage]=\"'PAYMENTS.PAYMENTS_UNPAID' | translate\"\r\n    [dataTableIsShowMore]=\"false\"\r\n    [dataTableIsShowSectionTitle]=\"false\"\r\n    [tablePageSizeList]=\"unpaidPageSizeList\"\r\n    [dataTableShowPagination]=\"true\"\r\n  >\r\n    <ng-container class=\"table-subtotals\">\r\n      <app-unpaid-subtotals></app-unpaid-subtotals>\r\n    </ng-container>\r\n  </app-data-table>\r\n</div>\r\n","<div class=\"app-payments\">\r\n  <div class=\"app-payments__container\">\r\n    <app-page-header [pageHeaderTitle]=\"'PAYMENTS.TITLE' | translate\"></app-page-header>\r\n    <qima-tabs qimaTabsAutoSelect>\r\n      <qima-tab\r\n        *ngFor=\"let tab of tabs; let index = index; trackBy: trackByIndex\"\r\n        [qimaTabIsSelected]=\"tab.isSelect\"\r\n        [qimaTabLabel]=\"tab.label | translate\"\r\n        [routerLink]=\"tab.routerLink\"\r\n      >\r\n      </qima-tab>\r\n    </qima-tabs>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</div>\r\n","import { ICommonTableTab } from '@aca-new/app/shared/models/interfaces/common-table-tab.interface';\r\nimport { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-payments',\r\n  templateUrl: './payments.component.html',\r\n  styleUrls: ['./payments.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class PaymentsComponent implements OnInit {\r\n  public tabs: ICommonTableTab[] = [\r\n    {\r\n      label: 'PAYMENTS.UNPAID_BOOKINGS',\r\n      isSelect: true,\r\n      routerLink: '/payments/unpaid',\r\n    },\r\n    {\r\n      label: 'PAYMENTS.PAID_BOOKINGS',\r\n      isSelect: false,\r\n      routerLink: '/payments/paid',\r\n    },\r\n  ];\r\n\r\n  public constructor(private readonly _router: Router) {}\r\n\r\n  public trackByIndex(index: Readonly<number>): number {\r\n    return index;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    // eslint-disable-next-line @typescript-eslint/prefer-readonly-parameter-types\r\n    this.tabs.map((item: ICommonTableTab): void => {\r\n      item.isSelect = item.routerLink === this._router.url;\r\n    });\r\n  }\r\n}\r\n","import { PaymentsPaidComponent } from '@aca-new/app/pages/payments/pages/payments-paid/payments-paid.component';\r\nimport { PaymentsUnpaidComponent } from '@aca-new/app/pages/payments/pages/payments-unpaid/payments-unpaid.component';\r\nimport { UnpaidSubtotalsComponent } from '@aca-new/app/pages/payments/pages/payments-unpaid/shared/components/unpaid-subtotals/unpaid-subtotals.component';\r\nimport { PaymentsComponent } from '@aca-new/app/pages/payments/payments.component';\r\nimport { DataTableModule } from '@aca-new/app/shared/components/data-table/data-table.module';\r\nimport { PageHeaderModule } from '@aca-new/app/shared/components/page-header/page-header.module';\r\nimport { AuthoritiesGuard } from '@aca-new/app/shared/guards/authorities/authorities.guard';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { QimaButtonModule, QimaInputTextModule, QimaTabModule, QimaTabsAutoSelectDirectiveModule, QimaTabsModule } from '@qima/ngx-qima';\r\n\r\nconst ROUTES: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentsComponent,\r\n    canActivate: [AuthoritiesGuard],\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirectTo: 'unpaid',\r\n        pathMatch: 'full',\r\n      },\r\n      {\r\n        path: 'unpaid',\r\n        component: PaymentsUnpaidComponent,\r\n      },\r\n      {\r\n        path: 'paid',\r\n        component: PaymentsPaidComponent,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [PaymentsComponent, PaymentsPaidComponent, PaymentsUnpaidComponent, UnpaidSubtotalsComponent],\r\n  imports: [\r\n    RouterModule.forChild(ROUTES),\r\n    TranslateModule,\r\n    QimaTabsModule,\r\n    QimaTabModule,\r\n    QimaTabsAutoSelectDirectiveModule,\r\n    CommonModule,\r\n    DataTableModule,\r\n    QimaButtonModule,\r\n    QimaInputTextModule,\r\n    FormsModule,\r\n    PageHeaderModule,\r\n  ],\r\n  exports: [PaymentsComponent, PaymentsPaidComponent, PaymentsUnpaidComponent, UnpaidSubtotalsComponent],\r\n})\r\nexport class PaymentsModule {}\r\n"],"sourceRoot":"webpack:///","file":"apps_aca-new_src_app_pages_payments_payments_module_ts.b64c8cfdc46deabf3273.js"}