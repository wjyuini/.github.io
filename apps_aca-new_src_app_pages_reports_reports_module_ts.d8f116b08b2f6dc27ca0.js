"use strict";(self.webpackChunk_qima_aca_new=self.webpackChunk_qima_aca_new||[]).push([["apps_aca-new_src_app_pages_reports_reports_module_ts"],{6846:(U,S,a)=>{a.r(S),a.d(S,{ReportsModule:()=>N});var A=a(2682),o=a(8030),r=a(515);const d={inspections:[{isSort:r.PT9.ALPHABETICALLY,key:"serviceTypeText",label:"TABLE.TYPE",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"inspectionDateMMMFormat",label:"TABLE.SERVICE_DATE",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"isReInspection",label:"TABLE.RE_INSPECTION",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"productName",label:"TABLE.PRODUCT_NAME",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"prodReference",label:"TABLE.PRODUCT_REF",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"poNumber",label:"TABLE.PO_NO",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"clientRefNb",label:"TABLE.BOOKING_REF_NO",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"orderNumber",label:"TABLE.REF_NO",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"testResult",label:"TABLE.RESULT",type:o.j.STRING},{isSort:r.PT9.ALPHABETICALLY,key:"clientDecision",label:"TABLE.YOUR_DECISION",type:o.j.STRING}]};var g=a(4137),P=a(5748),T=a(708),L=a(1059),h=a(4743),t=a(1495),b=a(1845),E=a(1156),m=a(6154);let i=class{constructor(e){this._pageHeaderService=e,this.userId=sessionStorage.getItem(L.l.USER_ID),this.reportsApiUrl="",this.reportsSelectActive="",this.reportsTableHeaders=[],this.reportsPageSizeList=[T.A.pageSize50,T.A.pageSize100,T.A.pageSize150,T.A.pageSize200,T.A.pageSize250],this.reportsTableSelects=[{label:"UPCOMING_ORDERS.SELECT.INSPECTIONS",value:"inspections"}],this.reportsApiUrls={inspections:{url:`${P.Bc}/user/${this.userId}/reports?`,params:"page-size=50&page=1&sortType=desc&sortField=&keyword="}}}searchTableData(e){const s=this.reportsApiUrls[this.reportsSelectActive],p=new URLSearchParams(s.params);p.set("keyword",e),this.reportsApiUrl=s.url+p.toString()}ngOnInit(){this.reportsSelectActive="inspections",this.reportsTableHeaders=d.inspections,this.reportsApiUrl=this.reportsApiUrls.inspections.url+this.reportsApiUrls.inspections.params,this._pageHeaderService.searchChangeSubject$.pipe((0,h.t)(this)).subscribe(e=>{this.searchTableData(e)})}reportsSelectChange(e){this.reportsSelectActive=e,this.reportsApiUrl=this.reportsApiUrls[e].url+this.reportsApiUrls[e].params,this.reportsTableHeaders=d[e]}reportsPaginationChange(e){const s=this.reportsApiUrls[this.reportsSelectActive],p=new URLSearchParams(s.params);p.set("page",e.toString()),this.reportsApiUrl=s.url+p.toString()}reportsPageSizeChange(e){console.log(e)}};i.\u0275fac=function(e){return new(e||i)(t.Y36(g.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-reports"]],decls:6,vars:14,consts:[[1,"app-reports"],[1,"app-reports__container"],[3,"pageHeaderTitle"],[3,"dataTableSelectActive","dataTableApiUrl","dataTableHeaders","dataTableSelects","dataTableEmptyMessage","dataTableIsShowMore","dataTableIsShowSectionTitle","tablePageSizeList","dataTableShowPagination","dataTableToolbarSelectChange","dataTablePaginationChange","dataTablePageSizeChange"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"app-page-header",2),t.ALo(3,"translate"),t.TgZ(4,"app-data-table",3),t.NdJ("dataTableToolbarSelectChange",function(c){return s.reportsSelectChange(c)})("dataTablePaginationChange",function(c){return s.reportsPaginationChange(c)})("dataTablePageSizeChange",function(c){return s.reportsPageSizeChange(c)}),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("pageHeaderTitle",t.lcZ(3,10,"REPORTS.TITLE")),t.xp6(2),t.Q6J("dataTableSelectActive",s.reportsSelectActive)("dataTableApiUrl",s.reportsApiUrl)("dataTableHeaders",s.reportsTableHeaders)("dataTableSelects",s.reportsTableSelects)("dataTableEmptyMessage",t.lcZ(5,12,"REPORTS.NO_DATA"))("dataTableIsShowMore",!1)("dataTableIsShowSectionTitle",!1)("tablePageSizeList",s.reportsPageSizeList)("dataTableShowPagination",!0))},directives:[b.q,E.Q],pipes:[m.X$],styles:[".app-reports__container[_ngcontent-%COMP%]{border-radius:1em;background:#FFFFFF;box-shadow:0 .125em .125em #1919191a}.form-group-input[_ngcontent-%COMP%]{display:flex}.app-reports[_ngcontent-%COMP%]{padding:1.5em}.app-reports__container[_ngcontent-%COMP%]{padding:2.25em 2.25em 6.25em}"],changeDetection:0}),i=(0,A.gn)([(0,h.c)(),(0,A.w6)("design:paramtypes",[g.N])],i);var R=a(2076),C=a(8094),I=a(9142),u=a(128),y=a(5949);const v=[{path:"",component:i,canActivate:[I.W]}];let N=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.Bz.forChild(v),m.aw,R.t,r.lSw,u.u5,C.$]]}),n})()}}]);
//# sourceMappingURL=apps_aca-new_src_app_pages_reports_reports_module_ts.d8f116b08b2f6dc27ca0.js.map